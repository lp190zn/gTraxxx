<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
	<th:block th:include="layout/head.html :: frag('Login page')"/>
	<script th:inline="javascript"> /*<![CDATA[*/ var app = angular.module('myapp', []); /*]]>*/ </script>
</head>
<body ng-app="myapp">
	
	<!-- Full Page Image Header Area -->
	<div id="top" class="header">
		<div class="container">
			<div id="top1">
				<a id="modal-49447" href="#modal-container-49447" data-toggle="modal"></a>

				<div class="modal fade" id="modal-container-49447" role="dialog"
					aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-hidden="true">x</button>
								<h3 class="modal-title" id="myModalLabel">
									<b>Incorrect Login or Password!!!</b>
								</h3>
							</div>
							<div class="modal-body">Click on the "Sign in" button and write correct login and password... If you forgotten your password, just click on "Send me password" button!</div>
							<div class="modal-footer">
								<a class="btn btn-primary" href="RecoverYourPassword">Send me password</a>
								<button type="button" class="btn btn-primary"
									data-dismiss="modal">Sign in</button>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div id="top2">
				<a id="modal-49448" href="#modal-container-49448" data-toggle="modal"></a>

				<div class="modal fade" id="modal-container-49448" role="dialog"
					aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-hidden="true">x</button>
								<h3 class="modal-title" id="myModalLabel">
									<b>Congrats! We send you a activation email with Activation link! </b>
								</h3>
							</div>
							<div class="modal-body">After use our link you can sign in! </div>
							<div class="modal-footer">
								<button type="button" class="btn btn-primary" data-dismiss="modal">Sign in</button>
							</div>
						</div>

					</div>
				</div>
			</div>

			<div id="top3">
				<a id="modal-49448" href="#modal-container-49449" data-toggle="modal"></a>

				<div class="modal fade" id="modal-container-49449" role="dialog"
					aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
								<h3 class="modal-title" id="myModalLabel"> 
									<b>Your account isn't activated! </b>
								</h3>
							</div>
							<div class="modal-body">Check your email for message with activation link and use it!</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-primary" data-dismiss="modal">I understand!</button>
							</div>
						</div>
					</div>
				</div>
			</div>

			<form name="form" action="#" th:action="@{/login}"  class="form-signin"	method="POST">
				<h2 class="form-signin-heading">Please sign in</h2>
				<div id="1" name="1" ng-class="{'has-error': !form.j_username.$valid &amp;&amp; form.j_username.$dirty,  'has-success': form.j_username.$valid}">
					<input type="email" id="j_username" name="j_username" class="form-control" value="" placeholder="Email address" autofocus="true" ng-model="email" required="required"/>
				</div>
				
				<div id="2" name="2" ng-class="{'has-error': !form.j_password.$valid &amp;&amp; form.j_password.$dirty,  'has-success': form.j_password.$valid}">
					<input type="password" id="j_password" name = "j_password"  class="form-control" placeholder="Password" value="" ng-model="text" required = "required"/>
				</div>
				<label class="checkbox"> <input type="checkbox"	value="remember-me"/> Remember me </label>
				<button ng-disabled="!form.$valid" class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
			</form>
			<a th:href="@{/register}" class="label">Or register!</a> 
			<br/>
			
			<div th:if="${failed}">
				<script th:inline="javascript"> /*<![CDATA[*/ $(document).ready(function() {$('#top1').find('a').trigger('click');}); /*]]>*/ </script>
			</div>
			<div th:if="${notActive}">
				<script th:inline="javascript"> /*<![CDATA[*/ $(document).ready(function() {$('#top3').find('a').trigger('click');}); /*]]>*/ </script>
			</div>
			<div th:if="${justRegistered}">
				<script th:inline="javascript"> /*<![CDATA[*/ $(document).ready(function() {$('#top2').find('a').trigger('click');}); /*]]>*/ </script>
			</div>
 
			</div>
		</div>
	</body>
</html>