CREATE TABLE USERS
(
USER_ID int NOT NULL AUTO_INCREMENT,
USER_FIRST_NAME varchar(50),
USER_LAST_NAME varchar(50),
USER_AGE INT,
USER_ACTIVITY varchar(50),
USER_EMAIL varchar(50) NOT NULL UNIQUE,
USER_PASS varchar(50) NOT NULL,
USER_STATUS varchar(50) DEFAULT 'USER',
USER_TOKEN varchar(32) NOT NULL,
USER_ACCEPTED INT DEFAULT 0,
PRIMARY KEY(USER_ID)
)

CREATE TABLE TRACKS
(
TRACK_ID int NOT NULL AUTO_INCREMENT,
TRACK_NAME varchar(100) NOT NULL,
TRACK_DESCRIPTION text,
TRACK_ACTIVITY varchar (20),
TRACK_FILE varchar(200) NOT NULL UNIQUE,
TRACK_USER_ID int NOT NULL,
TRACK_STARTDATE varchar (45),
TRACK_ENDDATE varchar (45),
TRACK_ACCESS varchar(45),
TRACK_START_ADDRESS varchar(100),
TRACK_END_ADDRESS varchar(100),
TRACK_LENGTH_KM varchar(20),
TRACK_MIN_ELEVATION varchar(20),
TRACK_MAX_ELEVATION varchar(20),
TRACK_HEIGHT_DIFF varchar(20),
TRACK_DURATION varchar(50),
TRACK_DATE_CREATED varchar(50),
TRACK_CREATION_TYPE varchar(10),
TRACK_DATE_UPDATED timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
PRIMARY KEY(TRACK_ID),
FOREIGN KEY(TRACK_USER_ID) REFERENCES USERS(USER_ID)
)

-- nove 


drop user GPSWEBAPP;

drop tablespace GPSWEBAPP_DATA including contents cascade constraints;

create tablespace GPSWEBAPP_DATA datafile
'c:\oraclexe\app\oracle\oradata\XE\gpsweb_data.dbf' size 100 M REUSE
AUTOEXTEND ON;

create user GPSWEBAPP identified by adminp;

grant connect to GPSWEBAPP;

grant all privileges to GPSWEBAPP;

CREATE TABLE GPSWEBAPP.USERS
(
USER_ID NUMBER(10,0) NOT NULL,
USER_FIRST_NAME varchar(50),
USER_LAST_NAME varchar(50),
USER_AGE NUMBER(2,0),
USER_ACTIVITY varchar(50),
USER_EMAIL varchar(50) NOT NULL UNIQUE,
USER_PASS varchar(50) NOT NULL,
USER_STATUS varchar(50) DEFAULT 'USER',
USER_TOKEN varchar(32) NOT NULL,
USER_ACCEPTED NUMBER(1,0) DEFAULT 0,
PRIMARY KEY(USER_ID)
)TABLESPACE "GPSWEBAPP_DATA";

CREATE SEQUENCE GPSWEBAPP.USERS_SEQ START WITH 1;

grant all on GPSWEBAPP.USERS to GPSWEBAPP;
grant all on GPSWEBAPP.USERS_SEQ to GPSWEBAPP;

CREATE TABLE GPSWEBAPP.TRACKS
(
TRACK_ID NUMBER(10,0) NOT NULL,
TRACK_NAME varchar(100) NOT NULL,
TRACK_DESCRIPTION VARCHAR(250),
TRACK_ACTIVITY varchar (20),
TRACK_FILE varchar(200) NOT NULL UNIQUE,
TRACK_USER_ID int NOT NULL,
TRACK_STARTDATE varchar (45),
TRACK_ENDDATE varchar (45),
TRACK_ACCESS varchar(45),
TRACK_START_ADDRESS varchar(100),
TRACK_END_ADDRESS varchar(100),
TRACK_LENGTH_KM varchar(20),
TRACK_MIN_ELEVATION varchar(20),
TRACK_MAX_ELEVATION varchar(20),
TRACK_HEIGHT_DIFF varchar(20),
TRACK_DURATION varchar(50),
TRACK_DATE_CREATED varchar(50),
TRACK_CREATION_TYPE varchar(10),
TRACK_DATE_UPDATED timestamp DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY(TRACK_ID),
FOREIGN KEY(TRACK_USER_ID) REFERENCES GPSWEBAPP.USERS(USER_ID)
)TABLESPACE "GPSWEBAPP_DATA";


CREATE SEQUENCE GPSWEBAPP.TRACKS_SEQ START WITH 1;


grant all on GPSWEBAPP.TRACKS to GPSWEBAPP;
grant all on GPSWEBAPP.TRACKS_SEQ to GPSWEBAPP;


